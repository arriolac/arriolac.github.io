
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Should you support landscape? - Chris Arriola</title>
  <meta name="author" content="Chris Arriola">

   
  <meta name="description" content="This is a test.">
  
  <meta name="keywords" content="">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://chrisarriola.me/blog/2015/12/21/should-you-support-landscape">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Quicksand:300,400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Chris Arriola" type="application/atom+xml">
  <script src="/js/jquery.js"></script>
  <script src="/js/bootstrap-collapse.js"></script>
  <script src="/js/modernizr-2.0.js"></script>
  <script src="/js/octopress.js" type="text/javascript"></script>
  <script src="/js/application.js"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Roboto+Condensed|Roboto:400,300' rel='stylesheet' type='text/css'>

  

</head>

<body   >
  <div class="navbar navbar-inverse navbar-static-top">
  	<div class="navbar-inner">
  	  <div class="container">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-responsive-collapse">
          <span class="fui-menu-24"></span>
        </a>
  	  	<div class="nav-collapse collapse navbar-responsive-collapse" style="height:0;">
  	      <ul class="nav">
    
        <li ><a href="/index.html">Home</a></li>
    
        <li ><a href="/cv">CV</a></li>
    
        <li ><a href="/about-me">About Me</a></li>
    
</ul>

<ul class="nav pull-right">
    
    <li><a href="http://github.com/arriolac" title="Github Profile"><i class="icon-github-sign social-navbar"></i></a></li>
    
    
    
    <li><a href="http://linkedin.com/in/chrisarriola" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
    
    
    <li><a href="http://twitter.com/arriolachris" title="Twitter Profile"><i class="icon-twitter-sign social-navbar"></i></a></li>
    
    
    <li><a href="http://plus.google.com/+ChrisArriola" title="Google+ Profile"><i class="icon-google-plus-sign social-navbar"></i></a></li>
    
    
    

    
</ul>

  	    </div>
  	  </div>
  	</div>
  </div>
  <div class="container" id="main">
      <div class="row-fluid">
        <div id="content">
          <div>
<article class="hentry" role="article">
  

  <header>
  <div class="jumbotron">
    Should You Support Landscape?
	<h5>








  


<i class="icon-calendar-empty"></i> <time datetime="2015-12-21T15:49:18-05:00" pubdate data-updated="true">Dec 21<span>st</span>, 2015</time></h5>
  </div>
</header>
  <div class="row-fluid">
    <div class="span12">
      <p>Android fragmentation is no joke. There are a total of <a href="http://opensignal.com/reports/2015/08/android-fragmentation/">~24,000 unique Android devices and 10 different versions of the OS in use as of 2015</a>. As Android developers, we want to support as many different devices and versions as possible but doing so can feel like going down a rabbit hole.</p>

<div id="image" style="text-align:center; text-size:10px;">
<img class="center" src="http://chrisarriola.me/images/android_device_fragmentation_2015.png" width="750" height="500">
<i>Android device fragmentation as of August 2015. <a href="http://opensignal.com/reports/2015/08/android-fragmentation">Source</a></i>
</div>


<p>On top of device and OS fragmentation, having to supporting yet another screen variant, landscape, adds even more complexity.</p>

<p>To simplify things, wouldn&rsquo;t it be great to lock the orientation mode of all screens to portrait and just say “our app doesn&rsquo;t support landscape?” And hey, while we&rsquo;re at it, “our app doesn&rsquo;t support anything below the latest version of Android, too.”</p>

<p>Seriously though, should you support landscape on Android?</p>

<p>Like any product decision, <em>the answer isn’t always quite that simple</em>.</p>

<p>There are a set of applications and screens where landscape makes sense. Say for example, when playing games, or, when watching videos. However, an overwhelming majority of apps used on phones are in portrait.</p>

<p>Based on a <a href="http://www.uxmatters.com/mt/archives/2013/02/how-do-users-really-hold-mobile-devices.php">mobile UX survey done by UXmatters in 2013</a>, only 10% of users orient the phone in landscape when using their phone with two-hands. This does not surprise me. Think about it, when was the last time you used your phone and an unintended screen rotation occurred? It can be annoying.</p>

<p>Because of these reasons, I can see why it is tempting to lock an app to only support portrait mode.</p>

<p>I can think of one good reason though why you shouldn’t do this and consider supporting landscape.</p>

<h3>Configuration Changes</h3>

<p>Configuration changes occur in runtime and are caused by various events such as: when keyboard visibility changes, when language changes, or  when orientation changes. This in turn causes the current foreground Activity to be reconstructed once the change finishes and all instance state will be recovered using Android’s parcelling mechanism via Bundle.</p>

<p>Framework views automatically handle saving/restoring state (ethis is why you don&rsquo;t lose the content in an <code>EditText</code> on a configuration change); however, a custom view, an Activity, or a Fragment instance state will not be automatically recovered by the framework. Instead, this needs to be explicitly retained in certain life cycle events. It&rsquo;s really easy to miss an instance state that should be recovered, especially when orientation is locked, and so it&rsquo;s good practice to test configuration changes while developing. <em>Changing the orientation of the device is the simplest way to simulate that</em>.</p>

<p>Here&rsquo;s an example of how you should retain state across configuration changes in an <code>Activity</code>:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public class MainActivity extends Activity {
</span><span class='line'>
</span><span class='line'>    private int someIntValue;
</span><span class='line'>
</span><span class='line'>    @Override
</span><span class='line'>    public void onSaveInstanceState(Bundle savedInstanceState) {
</span><span class='line'>        // This is called by the system so that any instance that can be recovered
</span><span class='line'>        // when the Activity is recreated.
</span><span class='line'>        savedInstanceState.putInt(SOME_VALUE, someIntValue);
</span><span class='line'>        super.onSaveInstanceState(savedInstanceState);
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>    public void onRestoreInstanceState(Bundle savedInstanceState) {
</span><span class='line'>        // This is called by the system when the Activity is reconstructed.
</span><span class='line'>        super.onRestoreInstanceState(savedInstanceState);
</span><span class='line'>        someIntValue = savedInstanceState.getInt(SOME_VALUE);
</span><span class='line'>    }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>There are other lifecycle events where state can be restored such as in <code>Activity#onCreate()</code>. If you want to learn more about how this works, check out <a href="https://guides.codepath.com/android/Handling-Configuration-Changes">CodePath’s wiki</a>.</p>

<p>You might be saying, why not declare in the AndroidManifest that the Activity handles orientation configuration changes so that state will be retained automatically?</p>

<p>i.e.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;activity android:name=”com.app.MyActivity”
</span><span class='line'>          android:configChanges=”orientation|screenSize” /&gt;
</span></code></pre></td></tr></table></div></figure>


<p>Although there are some valid use cases where you want to do this, this should be done as a last resort. This is a very common beginner mistake as it appears to get around the issue of saving state; however, doing so might have some unintended consequences. For example, say you want to declare a landscape/portrait-specific resource, that resource will not be loaded automatically on a configuration change and you need to instead explicitly load the resource in <code>Activity#onConfigurationChanged()</code>. Not knowing this consequence can be a pain to debug.</p>

<p>A quote from <a href="http://www.curious-creature.com/">Romain Guy</a>:</p>

<blockquote><p>&hellip;it is sometimes confusing for new Android developers who wonder why their activity is destroyed and recreated. Facing this “issue,” some developers choose to handle configuration changes themselves which is, in my opinion, a short-term solution that will complicate their life when other devices come out or when the application becomes more complex. The automatic resource handling is a very efficient and easy way to adapt your application’s user interface to various devices and devices configurations.</p></blockquote>

<p>Indeed, it is good practice to allow the system to do what it was designed to do as it allows your application to behave correctly on varying devices especially as your application gets more complex.</p>

<p>In conclusion, locking the device on a particular orientation—or letting the Activity handle orientation configuration changes—is a stopgap solution without taking into consideration how configuration changes work. Develop apps as if the user may drop off from the screen that they are currently on and ensure that state is appropriately saved/restored.</p>

<h3>TL;DR</h3>

<ul>
<li><p>if it’s purely a UX reason for locking orientation, do so but be cautious that the app still handles configuration changes properly.</p></li>
<li><p>if <code>configChanges=”orientation”</code> is added, make sure it’s actually needed (e.g. for performance reasons maybe because it’s really expensive to reconstruct the Activity, etc.).</p></li>
<li><p>if the above solutions are used merely to “solve” saving state on an orientation change, don’t do it.</p></li>
</ul>


    </div>
  </div>



  <footer>
    <hr>
    
    <div class="row-fluid">
      
      <div class="span6">
        <p class="meta">
        
        



  <a href="/blog/categories/android/"><span class="badge">Android</span></a>




        </p>
      </div>
      
      <div class="span6 social-sharing">
        <div class="sharing">
  <div class="addthis_toolbox addthis_default_style ">
  
  
  <a class="addthis_button_tweet"></a>
  
  
  <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>

      </div>
      
      
    </div>
    
    <div class="row-fluid">
      <div class="span12">
        <p class="meta">
          
            <a class="basic-alignment left" href="/blog/2015/10/18/code-like-a-goldfish/" title="Previous Post: Code Like a Goldfish">&laquo; Code Like a Goldfish</a>
          
          
        </p>
      </div>
    </div>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>



        </div>
      </div>
      <div class="row-fluid">
        <footer class="footer-page" role="contentinfo">
          


        </footer>
      </div>
  </div>
  

<script type="text/javascript">
      var disqus_shortname = 'chrisarriola';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://chrisarriola.me/blog/2015/12/21/should-you-support-landscape/';
        var disqus_url = 'http://chrisarriola.me/blog/2015/12/21/should-you-support-landscape/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<div class="after-footer">
    <div class="after-footer-inner">
        <section>
            <h2>Keep In Touch</h2>
            <p>
            Want to know when a new article comes out?
            </p>
            <form action="//chrisarriola.us10.list-manage.com/subscribe/post?u=f57ac58f6cfb6b88bb2ec77f3&amp;id=91c15e4ccc" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank">
                <input type="text" placeholder="Your Email Here" autocomplete="off" name="EMAIL" id="mce-EMAIL">
                <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-subscribe">
            </form>
        </section>
        
        <p>
        Copyright &copy; 2015 - Chris Arriola -
        <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
        </p>
    </div>
</div>


</body>
</html>
